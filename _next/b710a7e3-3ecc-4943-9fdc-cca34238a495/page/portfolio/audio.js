module.exports=__NEXT_REGISTER_PAGE("/portfolio/audio",function(){var e=webpackJsonp([4],{285:function(e,t,n){e.exports=n(286)},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),o=n.n(r),a=n(0),i=n.n(a),u=n(35),l=n(17),s=n(2);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e){return Array.from(Array(e).keys())}function d(e,t){var n=p(e),r=Math.floor(e/12)*v(t);return n<7?r+n*t.whiteKeyWidth:n<9?r+(n-6)*t.whiteKeyWidth-t.blackKeyWith/2:r+ +(4+n-9)*t.whiteKeyWidth-t.blackKeyWith/2}function h(e,t){var n=y(e);return{fill:n?"white":"black",width:n?t.whiteKeyWidth:t.blackKeyWith,height:n?"80":"50"}}function p(e){return e%12}function y(e){return p(e)<7}function v(e){return 7*e.whiteKeyWidth}var m=s.a.rect.withConfig({displayName:"piano__Rect",componentId:"s1ypx1np-0"})(["cursor:pointer;&:hover{fill:rgba(0,0,0,0.2);}"]),b=function(e){return i.a.createElement("svg",{strokeWidth:"1",viewBox:"0 0 ".concat(e.numberOfOctaves*v(e)," 80")},i.a.createElement("g",null,f(12*e.numberOfOctaves).map(function(t,n){var r=h(n,e);return i.a.createElement(m,c({x:d(n,e),y:"0",key:n,stroke:"rgba(0,0,0,0.3)",strokeWidth:"1"},r))})))};b.defaultProps={blackKeyWith:16,whiteKeyWidth:20,numberOfOctaves:3};var g=b,k=n(23);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return O(e)||C(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function C(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}function O(e){if(Array.isArray(e))return e}function R(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(u,l)}function u(e){i("next",e)}function l(e){i("throw",e)}u()})}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function B(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?x(e):t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){function t(){var e,n,r;A(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return B(r,(n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),Object.defineProperty(x(r),"state",{configurable:!0,enumerable:!0,writable:!0,value:{}}),n))}return W(t,e),P(t,[{key:"componentDidMount",value:function e(){navigator.requestMIDIAccess().then(function(){var e=R(o.a.mark(function e(t){var r,a,i;return o.a.wrap(function e(o){for(;;)switch(o.prev=o.next){case 0:return r=t.inputs,o.next=3,new(n(287).SameLoopPromise)(function(e,t){try{var r=n(289);return e(r)}catch(e){}n.e(0).then(function(r){try{var o=n(289);o.__webpackChunkName="tone_f303f9a15cddbe8ee0296511a8b04b30",e(o)}catch(e){t(e)}}.bind(null,n)).catch(n.oe)});case 3:a=o.sent,i=new a.PolySynth(100),i.toMaster(),r.forEach(function(e){e.onmidimessage=function(e){var t=E(e.data,3),n=t[0],r=t[1],o=t[2];if(254!==n){var u=new a.Frequency(r,"midi");144===n&&o?i.triggerAttack([u],void 0,o/127):144!==n||o||i.triggerRelease(u),console.log("cmd",n,"note",u.toNote(),"data",e.data)}}});case 7:case"end":return o.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return i.a.createElement(u.a,{title:"building audio"},i.a.createElement(k.a,null,i.a.createElement(l.a,null,"controls here"),i.a.createElement(l.a,null,i.a.createElement(g,null))))}}]),t}(a.Component),j=t.default=N},287:function(e,t,n){e.exports=n(288)},288:function(e,t,n){"use strict";var r=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;if(e instanceof v)n=e,r=t||{};else{if(!e.modules||!e.render){throw new Error("`next/dynamic` options should contain `modules` and `render` fields")}if(t){throw new Error("Add additional `next/dynamic` options to the first argument containing the `modules` and `render` fields")}r=e}return function(e){function t(){var e,n;(0,u.default)(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(n=(0,s.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(a)))).LoadingComponent=r.loading?r.loading:function(){return d.default.createElement("p",null,"loading...")},n.ssr=!1!==r.ssr||r.ssr,n.state={AsyncComponent:null,asyncElement:null},n.isServer="undefined"==typeof window,n.loadBundleAgain=null,n.loadingBundle=!1,n.ssr&&n.load(),n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"load",value:function(){n?this.loadComponent():this.loadBundle(this.props)}},{key:"loadComponent",value:function(){var e=this;n.then(function(n){var r=n.default||n,o=(0,h.getDisplayName)(r);o&&(t.displayName="DynamicComponent for ".concat(o)),e.mounted?e.setState({AsyncComponent:r}):(e.isServer&&y(n.__webpackChunkName),e.state.AsyncComponent=r)})}},{key:"loadBundle",value:function(e){var n=this;this.loadBundleAgain=null,this.loadingBundle=!0;var o=r.modules(e),i=(0,a.default)(o),u=i.length,l={};i.forEach(function(a){o[a].then(function(o){var i=o.default||o;n.isServer&&y(o.__webpackChunkName),l[a]=i,0===--u&&function(){if(n.loadBundleAgain)return void n.loadBundle(n.loadBundleAgain);n.loadingBundle=!1,t.displayName="DynamicBundle";var o=r.render(e,l);n.mounted?n.setState({asyncElement:o}):n.state.asyncElement=o}()})})}},{key:"componentDidMount",value:function(){this.mounted=!0,this.ssr||this.load()}},{key:"componentWillReceiveProps",value:function(e){n||(this.setState({asyncElement:null}),this.loadingBundle?this.loadBundleAgain=e:this.loadBundle(e))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.AsyncComponent,n=e.asyncElement,r=this.LoadingComponent;return n||(t?d.default.createElement(t,this.props):d.default.createElement(r,this.props))}}]),t}(d.default.Component)},t.registerChunk=y,t.flushChunks=function(){var e=(0,o.default)(p);return p.clear(),e},t.SameLoopPromise=void 0;var o=r(n(134)),a=r(n(102)),i=r(n(20)),u=r(n(8)),l=r(n(9)),s=r(n(21)),c=r(n(22)),f=r(n(48)),d=r(n(0)),h=n(19),p=new f.default;function y(e){p.add(e)}var v=function(){function e(t){(0,u.default)(this,e),this.onResultCallbacks=[],this.onErrorCallbacks=[],this.cb=t}return(0,l.default)(e,null,[{key:"resolve",value:function(t){return new e(function(e){return e(t)})}}]),(0,l.default)(e,[{key:"setResult",value:function(e){this.gotResult=!0,this.result=e,this.onResultCallbacks.forEach(function(t){return t(e)}),this.onResultCallbacks=[]}},{key:"setError",value:function(e){this.gotError=!0,this.error=e,this.onErrorCallbacks.forEach(function(t){return t(e)}),this.onErrorCallbacks=[]}},{key:"then",value:function(t,n){var r=this;this.runIfNeeded();var o=new e,a=function(){n?o.setResult(n(r.error)):o.setError(r.error)},i=function(){o.setResult(t(r.result))};return this.gotResult?(i(),o):this.gotError?(a(),o):(this.onResultCallbacks.push(i),this.onErrorCallbacks.push(a),o)}},{key:"catch",value:function(t){var n=this;this.runIfNeeded();var r=new e,o=function(){r.setResult(t(n.error))},a=function(){r.setResult(n.result)};return this.gotResult?(a(),r):this.gotError?(o(),r):(this.onErrorCallbacks.push(o),this.onResultCallbacks.push(a),r)}},{key:"runIfNeeded",value:function(){var e=this;this.cb&&(this.ran||(this.ran=!0,this.cb(function(t){return e.setResult(t)},function(t){return e.setError(t)})))}}]),e}();t.SameLoopPromise=v}},[285]);return{page:e.default}});